<div class="overview" #groups_container>
        <div class="searchInput">
           <span></span>
           <input type="text" name="searchJobs" (focus)="showSearchDialog = true" placeholder="Search for jobs"> 
        </div>
        <form [formGroup]="jobsSearchForm" (ngSubmit)="onSearchSubmit(jobsSearchForm.value)">
            <div class="searchDialog" [hidden]="!showSearchDialog">
                <div class="searchPage">
                    <div class="back" (click)="showSearchDialog = false"></div>
                    <div class= "query">
                         <span></span>
                         <input type="text" formControlName="jobName" placeholder=" Enter job name"> 
                         <a class="searchButton">Search</a>
                    </div>
                    <div class="filterOptions">filter options</div>
                    <div class="date">
                        <div class="dateLabel">date</div>
                        <div class="timeSpan">
                              <span>·  all time</span>
                              <input  type="radio" value="all" id="timeSpan" formControlName="timeSpan" name="timeSpan" checked> 
                              <label for="timeSpan"></label>
                              <input  type="date" formControlName="startDate">
                              <span>-</span>
                              <input  type="date" formControlName="endDate">
                              <input  type="radio" value="limited" id="limtedTime" formControlName="timeSpan" name="timeSpan">
                              <label for="limtedTime"></label>
                        </div>
                    </div>
                    <div class="status">
                        <div class="statusLabel">status</div>
                        <div class="statusOption">
                              <span>·  all</span>
                              <input  type="radio" value="all" id="states" formControlName="states"> 
                              <label for="states"></label>
                              <span>not started</span> <input type="checkbox" id="notstarted" formControlName="notstarted">
                              <label for="notstarted"></label>
                              <span>running</span> <input type="checkbox" id="running" formControlName="running">
                              <label for="running"></label>
                              <span> successful</span> <input type="checkbox" id="successful" formControlName="successful">
                              <label for="successful"></label>
                              <span> failed </span> <input type="checkbox" id="faild" formControlName="failed">
                              <label for="faild"></label>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div>
            <div class="instances">
                <div class="instance" *ngFor="let job of searchGroupedJobs | async" 
                     routerLink="../detailview" [queryParams]="{jobId: job.id}" >
                    <p class="instanceName">{{job.uniqueidentifier}}</p>
                    <overview-chart [slices] ="job.slices"></overview-chart>
                <p class="timeElapsed">{{job.createdDate}}</p>
                </div>
            </div>
        </div>
        <div>
            <div class="instances" >
                <div class="instance" *ngFor="let job of jobs | async" 
                     routerLink="../detailview" [queryParams]="{jobId: job.id}" >
                    <p class="instanceName">{{job.uniqueidentifier}}</p>
                    <overview-chart [slices] ="job.slices"></overview-chart>
                <p class="timeElapsed">{{job.createdDate}}</p>
                </div>
            </div>
            <div>
                <input type="hidden" #batch [ngModel]="loadedBatchs | async">
                <button (click)="onLoadMore(batch.value)" 
                        [hidden]="batch.value === 0" 
                        class="loadMore">Load more</button>
            </div>
        </div>
        <aethic-accordion>
            <aethic-accordion-group heading="{{group.name}}" (onExpandGroup)="onExpandGroup($event, group)" 
                                    *ngFor="let group of groups | async; let i = index;">
                <div class="instances" >
                    <div class="instance" *ngFor="let runningJob of group.jobs | async" 
                         routerLink="../detailview" [queryParams]="{jobId: runningJob.id, groupId: group.name}" >
                        <p class="instanceName">{{runningJob.uniqueidentifier}}</p>
                        <overview-chart [slices] ="runningJob.slices"></overview-chart>
                    <p class="timeElapsed">{{runningJob.createdDate}}</p>
                    </div>
                </div>
                <div>
                    <input type="hidden" #batch [ngModel]="group.loadedBatches | async">
                    <button (click)="onGetMore(group, batch.value)" 
                            [hidden]="batch.value === 0" 
                            class="loadMore">Load more</button>
                </div>
            </aethic-accordion-group>
        </aethic-accordion>
</div>
